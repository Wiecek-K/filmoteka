!function(){const e=document.querySelector(".footer-highlight"),t=document.querySelector(".modal-devs");function a(){t.classList.add("modal-devs-hidden")}document.querySelectorAll("[data-slider-button]").forEach((e=>{e.addEventListener("click",(()=>{const t="next"===e.dataset.sliderButton?1:-1,a=e.closest(".modal-devs__slider").querySelector(".modal-devs__slide-list"),n=a.querySelector("[data-active]");let i=[...a.children].indexOf(n)+t;i<0&&(i=a.children.length-1),i>=a.children.length&&(i=0),a.children[i].dataset.active=!0,delete n.dataset.active}))})),e.addEventListener("click",(function(){t.classList.remove("modal-devs-hidden")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&a()})),window.addEventListener("click",(e=>{e.target.classList.contains("modal-devs")&&a()}));const n=document.querySelector(".loader__icon"),i=document.querySelector(".loader__wrapper"),s=(e="Loading...")=>{i.classList.remove("is-hidden"),i.classList.add("loader__wrapper--visable"),n.classList.add("rotate-center"),document.querySelector(".loader__message").textContent=e},o=()=>{i.classList.remove("loader__wrapper--visable"),setTimeout((()=>{i.classList.add("is-hidden"),n.classList.remove("rotate-center")}),200)},l=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],d=e=>l.find((t=>t.id===e)).name,c={modal:document.querySelector("[data-modal]"),openModal:document.querySelectorAll("[data-modal-open]"),closeModal:document.querySelector("[data-modal-close]"),backdrop:document.querySelector(".backdrop")};function r(){c.backdrop.classList.add("is-hidden"),c.modal.innerHTML=""}c.closeModal.addEventListener("click",(()=>{r()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&r()})),window.addEventListener("click",(e=>{e.target===c.backdrop&&r()}));const m=async e=>{try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=964358699754c21d74c014b561cf196c&language=en-US`);return await t.json()}catch(e){console.log(e)}},p=e=>{const t=`<div class="movie-details">\n  <img\n    class="movie-details__image" alt=" "\n    src="https://image.tmdb.org/t/p/w500${e.poster_path}"\n  />\n  <div class="movie-details__content-wrapper">\n  <h2 class="movie-details__title">${e.title}</h2>\n  <ul class="movie-details__list list">\n    <li class="movie-details__list-element">\n      <p class="movie-details__list-paragraph">\n        Vote / Votes\n        <span class="movie-details__average">${e.vote_average.toFixed(1)}</span> /\n        <span class="movie-details__vote-count">${e.vote_count}</span>\n      </p>\n    </li>\n    <li class="movie-details__list-element">\n      <p class="movie-details__list-paragraph">\n        Popularity <span class="movie-details__popularity">${e.popularity}</span>\n      </p>\n    </li>\n    <li class="movie-details__list-element">\n      <p class="movie-details__list-paragraph movie-details__list-paragraph-gap">\n       <span class="no-brake">Original Title</span><span class="movie-details__original-title">${e.original_title}</span>\n      </p>\n    </li>\n    <li class="movie-details__list-element">\n      <p class="movie-details__list-paragraph">\n        Genre <span class="movie-details__genres">${e.genres.map((({name:e})=>e)).join(", ")}</span>\n      </p>\n    </li>\n  </ul>\n  <h3 class="movie-details__about-title">ABOUT</h3>\n  <p class="movie-details__overview">${e.overview}</p>\n  <div class="movie-details__buttons" buttons-modal>\n    <button data-id=${e.id} class="movie-details__button buttons-modal__watched">ADD TO WATCHED</button>\n    <button data-id=${e.id} class="movie-details__button buttons-modal__queue">ADD TO QUEUE</button>\n  </div>\n  </div>\n</div>`;c.modal.innerHTML=t;document.querySelector(".buttons-modal__watched").addEventListener("click",(e=>{const t=localStorage.getItem("watched");let a=JSON.parse(t);if(null===a)a=[];else if(a[0]<10){a=[a]}-1!==a.indexOf(e.target.dataset.id)||(a.push(e.target.dataset.id),localStorage.setItem("watched",JSON.stringify(a)))}));document.querySelector(".buttons-modal__queue").addEventListener("click",(e=>{const t=localStorage.getItem("queue");let a=JSON.parse(t);if(null===a)a=[];else if(a[0]<10){a=[a]}-1!==a.indexOf(e.target.dataset.id)||(a.push(e.target.dataset.id),localStorage.setItem("queue",JSON.stringify(a)))}))};function u(e,t=2){const a=document.getElementById("movies-gallery");a.innerHTML="",e.forEach((async e=>{const n=e.genre_ids.slice(0,t).map((e=>d(e))).join(", "),i=`\n        <div data-id=${e.id} class="movie-card">\n          <div class="movie-card__placeholder"><img class="movie-card__image" alt=" " src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" width="395" height="574"></div>\n          <h2 class="movie-card__tittle">${e.title}</h2>\n          <p class="movie-card__info"> \n          <span class="movie-card__overview">${e.genre_ids.length>2?`${n}, other`:n}</span> | <span class="movie-card__realease-date">${e.release_date.slice(0,4)}\n      `;a.insertAdjacentHTML("beforeend",i)})),a.addEventListener("click",(e=>{null!==e.target.closest(".movie-card")&&(s(),c.backdrop.classList.remove("is-hidden"),m(e.target.closest(".movie-card").dataset.id).then((e=>{p(e),o()})))}))}const v="https://api.themoviedb.org/3",_="964358699754c21d74c014b561cf196c";let g,h=1,y=`${v}/movie/popular?api_key=${_}&page=${h}`;const b=document.querySelector(".notification-alert"),f=e=>{b.textContent=e},L=async()=>{console.log(y),s();try{const e=await fetch(y),t=await e.json();console.log(t),0===t.total_results&&f("Search result not successful. Enter the correct movie name");const a=t.results;g=t.total_pages>500?500:t.total_pages,window.scroll({top:0,behavior:"instant"}),M(),u(a),o()}catch(e){console.error(e),o()}},w=()=>{y=`${y.slice(0,y.indexOf("page"))}\n\t\tpage=${h}`},S=document.getElementById("paginated-list"),$=document.getElementById("next-button"),E=document.getElementById("prev-button"),k=window.matchMedia("(min-width: 768px)"),q=e=>{const t=` <li class="pagination-number pagination-button ${e===h?"active":""}" page-index="${e}">\n   <p>${e}</p>\n  </li>`;S.innerHTML+=t},T=' <li class="pagination-number pagination-button pagination-three-dots page-index="0">\n<p>...</p>\n</li>',M=()=>{x();let e=h,t=0;for(g>5&&g-h<5&&(e=g-2);e>1&&t<2;)e--,t++;for(t=0,k.matches&&e>1&&(q(1),S.innerHTML+=T);t<5&&e<=g;)q(e),e++,t++;k.matches&&e<g&&(S.innerHTML+=T,q(g)),E.disabled=1===h,$.disabled=h===g};k.addListener(M);const x=()=>{S.innerHTML=""};S.addEventListener("click",(function(e){const t=e.target.closest(".pagination-number").getAttribute("page-index")-0;if(t===h||0===t)return;h=t,w(),console.log("CP",h),L()})),$.addEventListener("click",(()=>{h++,E.disabled=!1,w(),L()})),E.addEventListener("click",(()=>{h--,$.disabled=!0,w(),L()}));const O=document.querySelector(".search-form--button"),A=document.querySelector(".search-form--input");O.addEventListener("click",(async function(e){e.preventDefault(),t=1,h=t;var t;const a=A.value;if(a.length<=2)return void f("Search result not successful. Enter the correct movie name");n=`${v}/search/movie?api_key=${_}&query=${a}&page=1`,y=n,f(""),L();var n})),L()}();
//# sourceMappingURL=index.0fcbf653.js.map
